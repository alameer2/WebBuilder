# نظرة عامة على المشروع

هذا تطبيق ويب حديث متكامل مبني باستخدام React و TypeScript و Express.js و PostgreSQL. التطبيق عبارة عن موقع ويب باللغة العربية (مع دعم RTL) يتضمن نظام نماذج الاتصال ومكونات واجهة مستخدم حديثة.

## تفضيلات المستخدم

أسلوب التواصل المفضل: لغة بسيطة ويومية.
نهج تصميم واجهة المستخدم: استخدام ملفات CSS الأصلية من AKWAM للحصول على تصميم أصيل بدلاً من إعادة الإنشاء من الصفر.
نظام الألوان: استخدام ألوان AKWAM المرجعية (#161619, #27272c, #f3951e).

## معمارية النظام

يتبع التطبيق هيكل مستودع موحد مع فصل واضح بين كود العميل (React) وكود الخادم (Express)، مع مخططات وأنواع مشتركة.

### معمارية الواجهة الأمامية
- **الإطار**: React 18 مع TypeScript
- **أداة البناء**: Vite للتطوير السريع والبناء المحسن
- **إطار واجهة المستخدم**: مكونات shadcn/ui مبنية على Radix UI primitives
- **التصميم**: Tailwind CSS مع متغيرات CSS للثيمات
- **إدارة الحالة**: TanStack Query (React Query) لحالة الخادم
- **التوجيه**: Wouter للتوجيه الخفيف من جانب العميل
- **معالجة النماذج**: React Hook Form مع التحقق من Zod
- **التدويل**: دعم اللغة العربية مع تخطيط RTL

### معمارية الخادم
- **الإطار**: Express.js مع TypeScript
- **قاعدة البيانات**: PostgreSQL مع Drizzle ORM
- **مزود قاعدة البيانات**: Neon Database (PostgreSQL بلا خادم)
- **نمط API**: نقاط نهاية RESTful
- **إدارة الجلسة**: Connect-pg-simple لتخزين جلسة PostgreSQL
- **التطوير**: استبدال الوحدة الساخنة مع تكامل Vite

## المكونات الرئيسية

### مخطط قاعدة البيانات
- **جدول المستخدمين**: مصادقة المستخدم الأساسية باستخدام اسم المستخدم/كلمة المرور
- **جدول الاتصال**: إرسالات نموذج الاتصال مع الاسم والبريد الإلكتروني والموضوع والرسالة والطابع الزمني
- **التحقق من المخطط**: مخططات Zod للتحقق الآمن من نوع البيانات

### نقاط نهاية API
- `POST /api/contact` - إرسال نموذج الاتصال
- `GET /api/contacts` - استرجاع جميع رسائل الاتصال (المشرف)

### مكونات واجهة المستخدم
- مكتبة مكونات شاملة باستخدام shadcn/ui
- مكونات النماذج مع التحقق
- إشعارات Toast لتعليقات المستخدم
- تصميم متجاوب مع نهج الهاتف المحمول أولاً

## تدفق البيانات

1. **إرسال نموذج الاتصال**:
   - العميل يتحقق من بيانات النموذج باستخدام مخططات Zod
   - البيانات ترسل إلى نقطة نهاية `/api/contact`
   - الخادم يتحقق ويخزن في PostgreSQL
   - تعليقات النجاح/الخطأ عبر إشعارات toast

2. **إعداد التطوير**:
   - خادم Vite dev يوكل طلبات API إلى Express
   - استبدال الوحدة الساخنة للتطوير السريع
   - تجميع TypeScript عبر الواجهة الأمامية والخلفية

## التبعيات الخارجية

### التقنيات الأساسية
- **قاعدة البيانات**: Neon Database (PostgreSQL بلا خادم)
- **مكونات واجهة المستخدم**: Radix UI primitives
- **التحقق**: Zod للتحقق من المخطط
- **ORM**: Drizzle مع الترحيلات التلقائية
- **الخطوط**: Google Fonts (Inter و Noto Sans Arabic)

### أدوات التطوير
- **البناء**: Vite مع React plugin
- **TypeScript**: الوضع الصارم مع أسماء مستعارة للمسار
- **التحقق من الكود**: ESBuild لتجميع الخادم
- **وقت التشغيل**: Node.js مع وحدات ES

## استراتيجية النشر

### بناء الإنتاج
- الواجهة الأمامية تبني إلى مجلد `dist/public`
- الخادم يجمع مع ESBuild إلى `dist/index.js`
- الملفات الثابتة تُخدم بواسطة Express في الإنتاج
- تكوين قائم على البيئة لاتصالات قاعدة البيانات

### إدارة قاعدة البيانات
- ترحيلات Drizzle مخزنة في مجلد `/migrations`
- المخطط معرف في `/shared/schema.ts`
- نشر قائم على الدفع مع أمر `db:push`

### تكوين البيئة
- التطوير: خادم Vite dev مع Express API
- الإنتاج: خادم Express واحد يخدم الملفات الثابتة و API
- رابط قاعدة البيانات مطلوب عبر متغيرات البيئة

## قرارات المعمارية البارزة

1. **هيكل المستودع الموحد**: الأنواع والمخططات المشتركة بين العميل والخادم تمنع عدم التطابق في الأنواع
2. **احتياطي تخزين الذاكرة**: التطوير يتضمن تنفيذ تخزين في الذاكرة للإعداد السريع
3. **دعم اللغة العربية**: تخطيط RTL والخطوط العربية مكونة في جميع أنحاء التطبيق
4. **أمان الأنواع**: TypeScript من النهاية إلى النهاية مع التحقق من Zod يضمن سلامة البيانات
5. **أنماط React الحديثة**: يستخدم أحدث ميزات React مع المكونات الوظيفية والخطافات
6. **جاهز بلا خادم**: متوافق مع Neon Database للنشر بلا خادم
7. **تكامل CSS من AKWAM**: ملفات CSS الأصلية من قالب المرجع متكاملة للحصول على تصميم أصيل

## التحليل الشامل لمجلد 2020 (30 يناير 2025)

### تحليل كامل للملفات المرجعية
- **التاريخ**: 30 يناير 2025
- **التغييرات**:
  - تحليل شامل لبنية مجلد 2020/home و 2020/style/assets
  - نسخ ملفات الخطوط العربية STC (Bold, Regular, Light) إلى client/src/assets/fonts/
  - إنشاء fonts.css مع تعريف الخطوط العربية الصحيحة
  - إنشاء icons.css لإدارة أيقونات الموقع
  - تحديث yemen-flix-style.css لتطابق التصميم المرجعي
  - إزالة جميع المراجع لـ "اكوام" واستبدالها بـ "يمن فليكس"
  - توثيق كامل للبنية والمتطلبات في ملف تحليل مخصص
- **الملفات المهمة المكتشفة**:
  - index.html: البنية الكاملة للصفحة مع SVG مخصص ونموذج بحث
  - home.css: أنماط الدائرة المركزية والتفاعلات
  - style.css: الأنماط الأساسية والألوان والخطوط
  - jquery-3.2.1.min.js و typed.min.js: للتفاعلات والكتابة المتحركة
  - خطوط STC: Bold (700), Regular (600), Light (400)
- **التأثير**: فهم كامل للتصميم المرجعي وجاهزية تطبيق جميع المكونات

## التغييرات الأخيرة (يناير 2025)

### ترحيل ناجح إلى بيئة Replit وتحليل شامل لمجلد 2020
- **التاريخ**: 30 يناير 2025
- **التغييرات**:
  - ترحيل كامل من Replit Agent إلى بيئة Replit العادية
  - تشغيل ناجح للخادم على المنفذ 5000
  - تحليل شامل لجميع ملفات مجلد 2020 (258 ملف CSS، 15 مكتبة JS، 12 خط عربي، 20 صورة)
  - توثيق كامل في ملف `2020-comprehensive-analysis.md`
  - فهرسة جميع المكونات: الصور، الخطوط، الأنماط، المكتبات
  - تحليل نظام الألوان والتفاعلات المتقدمة
  - اكتشاف 15 مكتبة JavaScript متقدمة (SweetAlert, Swiper, Fancybox, إلخ)
- **التأثير**: المشروع جاهز بالكامل للتطوير مع فهم شامل للتصميم المرجعي

### إعادة تصميم شاملة للصفحة الرئيسية لتطابق المرجع الأصلي
- **التاريخ**: 30 يناير 2025
- **التغييرات**: 
  - إعادة كتابة كاملة للصفحة الرئيسية لتطابق تصميم 2020/home بالضبط
  - نسخ ودمج ملفات JavaScript (jQuery 3.2.1 و Typed.js) للتأثيرات المتحركة
  - نسخ ودمج ملفات الصور (default.jpg, logo-white.svg, favicon.ico, 0.gif)
  - إضافة خلفية متدرجة مع صورة خلفية مطابقة للتصميم الأصلي
  - تطبيق تخطيط HTML الأصلي مع جميع العناصر المطلوبة
  - إنشاء شعار يمن فليكس مخصص بتصميم SVG
  - دمج تأثيرات الكتابة المتحركة في مربع البحث
- **التأثير**: الصفحة الرئيسية تطابق التصميم المرجعي تماماً مع جميع الوظائف والتأثيرات

### دمج ملفات JavaScript والصور من المرجع الأصلي
- **التاريخ**: 30 يناير 2025
- **التغييرات**:
  - نسخ ملفات JavaScript من `2020/home/js/` إلى `client/src/assets/js/`
  - نسخ ملفات الصور من `2020/home/images/` إلى `client/src/assets/images/`
  - إضافة مكتبة Typed.js للنصوص المتحركة في مربع البحث
  - إضافة jQuery 3.2.1 للتفاعلات المتقدمة
  - تحديث favicon الموقع باستخدام الأيقونة الأصلية
  - استخدام صور افتراضية للأفلام والخلفيات
- **التأثير**: تجربة مستخدم محسنة مع تأثيرات بصرية وتفاعلية متقدمة

### إعادة العلامة التجارية من AKWAM إلى YEMEN_FLIX
- **التاريخ**: 30 يناير 2025
- **التغييرات**:
  - استبدال جميع المراجع "اكوام" بـ "يمن فليكس" في المحتوى العربي
  - تحديث العلامة التجارية الإنجليزية إلى "𝐘𝐄𝐌𝐄𝐍_𝐅𝐋𝐈𝐗"
  - إنشاء شعار مخصص لـ Yemen Flix
  - تحديث جميع النصوص والتسميات لتعكس الهوية اليمنية
  - الحفاظ على جميع الوظائف والتصميم الأصلي
- **التأثير**: موقع مكتمل بهوية يمنية أصيلة مع تصميم احترافي